<a [routerLink]="'/shop/' + cap.collectionRef + '/' + cap.nameHyphenated + '/'" *ngIf="cap">
  <ion-card>
    <div class="image-holder">
       <img  class="cap-skel cap-skel--1" [alt]="cap?.name +  ' | nod caps'"  [src]="cap?.imageField1Mobile">
       <!-- <img  *ngIf="!isMobile" class="cap-skel cap-skel--2" [alt]="cap?.name +  ' | nod caps'"  [src]="cap?.imageField2Mobile"> -->

      <div *ngIf="lessThan10" class="out-of-stock">
        <span>{{cap?.quantity}} LEFT</span>
      </div> 
      <div *ngIf="outOfStock" class="out-of-stock">
        <span>OUT OF STOCK</span>
      </div>
      <div *ngIf="isSale" class="sale-sign">
        <span>SALE</span>
      </div>
    </div>
    <ion-card-header>
      <ion-card-title>{{cap?.name}}</ion-card-title>
      
  
  
      <div class="bottom-holder" [ngClass]="isSale ? 'sale-bottom' : ''">
        <span class="rating" *ngIf="cap?.rating">
          <ion-icon class="star" name="star" *ngFor="let item of [].constructor(wholeStars); let i = index"></ion-icon>
          <ion-icon *ngIf="hasHalf" name="star-half" class="star"></ion-icon>
          <div *ngIf="!hasHalf" class="empty-star">
            <ion-icon class="star"  *ngFor="let item of [].constructor(5 - wholeStars)"name="star-outline"></ion-icon>
          </div>
        </span>
        <span class="rating" *ngIf="!cap?.rating">
          <ion-icon class="star" name="star"></ion-icon>
          <ion-icon class="star" name="star"></ion-icon>
          <ion-icon class="star" name="star"></ion-icon>
          <ion-icon class="star" name="star"></ion-icon>
          <ion-icon class="star" name="star"></ion-icon>
  
        </span>
        

        <span class="price" *ngIf="!isSale"> £{{cap?.price}}</span>

        <div class="price" *ngIf="isSale">
        <span class="new-price">£{{cap?.price}}</span>
          <br>
          <span class="original-price">£{{originalPrice}}</span>
        </div>
      </div>
    </ion-card-header>
    <div class="shop-button-hover ion-text-center">
    <ion-button  shape="round" color="light">
          SHOP
    </ion-button>
    
  </div>
  </ion-card>
</a>



<ion-card *ngIf="!cap" class="loading">
  <ion-spinner color="tertiary"></ion-spinner>
</ion-card>
